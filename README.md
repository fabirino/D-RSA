# Introduction

# Explaining the Algorithm

## PRBG
PRBG was designed to create pseudo-random bytes using the PBKDF2 method to create its seedgenerated from values such as password, confusion string and iteration count. The process involves generating an initial hash with AES, checking for the presence of the confusion pattern in the hash and subsequent iterations until the pattern is present. This process, although computationally costly, aims to make an attack on the system unfeasible.

## RSA Key Pair Generation
The generation of RSA keys is a lighter stage in computational terms, using the bytes generated by the PRBG as input. The prime numbers p and q, essential for key creation, are obtained by converting bytes to integers, followed by a search for the nearest prime number. The other parameters needed to create the public and private keys are then calculated.

# Runing the program

## Before Running the Program
There are some libraries that need to be installed to run this project
```
pip install cryptography            # used for cryptography algorithms
pip install sympy                   # contains some useful modular arithmetic functions
```

## How to run the program
To run the PRBG you need to call one of the randgen applications with 3 parameters: password, confusion string and an iteration count.

To generate the key pairs and store it in the correspondent PEM files, you need to execute one of the rsagen programs. These programs take as input the pseudo-random bytes generated in the previous step.

#### C
To compile all the C files, simply use the makefile provided in the project's folder. 

```
./randgen <password> <confusion_string> <iteration_count> > <destination_file>
```

```
./rsagen  < <input_file>
```

#### Python

```
python3 randgen.py <password> <confusion_string> <iteration_count> > <destination_file>
```

```
python3 rsagen < <input_file>
```

Preferably, the <input_file> of the rsagen applications should be the same as the <destination_file> used in the randgen applications


### Performance (bootstrap seed)

The code in the time_seed.c is exactly the same as the setup of the randgen.c, i. e., the code of generating the bootstrap seed with the PBKDF2. To measure the time it takes to creating the bootstrap seed we can use the following command:

```
time ./time_seed <password> <confusion_string> <iteration_count>
```
